<!DOCTYPE html>

<head>

<title>OGF SVG maker</title>

<div> <!-- links and dependencies, etc. -->
    <div> <!-- leaflet stuff -->
        <!-- CSS sheet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>

        <!-- JS file -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
   </div>

   </div> <!-- lunar stuff -->
        <link
        rel="stylesheet"
        href-"lunar_services/lunar_assembler.dist.css"/>
        <script src="lunar_services/lunar_assembler.dist.js"></script>
    <div>
</div>
</head>
<body>
<div>
    <div> <!-- lunar display and etc -->
        <center><button id="download_generated_map" style="display: none; margin: 5px auto 5px auto">Download SVG</button></center>
        <div class="generated_svg_map_within" id="generated_svg_within"></div>
        <progress id="progress_bar" value="0" max="100" style="width: 100%"></progress>
        <div id="log_messages_within"></div>
    </div>
    <!-- leaflet things -->
    <div id="mapid" style="width: 1200px; height: 800px; margin: auto;" class="leaflet_interactive_map_not_hiding_further_content" >
        <script>
            var mymap = L.map('mapid').setView([17.95, 91.29], 3);
            L.tileLayer('https://tiles04.rent-a-planet.com/ogf-carto/{z}/{x}/{y}.png', {
                attribution: 'Map data &copy; <a href="https://wiki.opengeofiction.net/index.php/OpenGeoFiction:Copyright">OpenGeoFiction</a> contributors',
                maxZoom: 20,
                id: 'ogfcarto',
                zoomOffset: -1,
            }).addTo(mymap);
        </script>
    </div>
</div>
</body>

<div>
    <script src="general_high_zoom_map_style.js"></script>
    <script>

    <script src="general_high_zoom_map_style.js"></script>
    <script>
        //document.getElementById("automatically_generated_legend").innerHTML = generateLegend(highZoomMapStyle().unifiedStyling())
        // must be executed after imports and once passed ids exist
        initializeLunarAssembler({mapStyles: [highZoomMapStyle()], mapDivId: 'mapid', downloadTriggerId: "download_generated_map", progressBarId: "progress_bar", mapOutputHolderId: "generated_svg_within", logOutputId: "log_messages_within", lat: 50.05514, lon: 19.92824, zoom: 18});
    </script>
</div>

